{% extends "base.html" %}
{% block content %}

<section class="contact-wrapper">
  <div class="contact-card">

    <div class="contact-header">
      <h1>Get in Touch</h1>
      <p>
        We’d love to hear from you — whether you’re interested in collaborations, workshops, or just want to connect.
      </p>
    </div>

    <div class="contact-content">
      <div class="contact-info">
        <h2>Contact Us</h2>
        <p><strong>Email:</strong> <a href="mailto:allclearcollective@gmail.com">allclearcollective@gmail.com</a></p>
        <p><strong>Instagram:</strong> <a href="https://www.instagram.com/allclearcollective" target="_blank">@allclearcollective</a></p>
        <p><strong>Location:</strong><br> Utrecht · The Netherlands</p>
      </div>

      <form class="contact-form"
            method="POST"
            action="https://formsubmit.co/ajax/yh.vaizman@gmail.com">

        <input type="hidden" name="_next" value="https://yourdomain.onrender.com/thanks">
        <input type="hidden" name="_captcha" value="false">

        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>

        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required></textarea>

        <button type="submit">Send Message</button>
      </form>

      </form>
    </div>

  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const form = document.querySelector(".contact-form");

  form.addEventListener("submit", async function(event) {
    event.preventDefault(); // prevent the page from refreshing

    const formData = new FormData(form);
    const response = await fetch(form.action, {
      method: "POST",
      body: formData,
    });

    if (response.ok) {
      // Clear form
      form.reset();

      // Show success message
      const msg = document.createElement("p");
      msg.textContent = "✅ Your message has been sent successfully!";
      msg.style.color = "#b8966a";
      msg.style.fontWeight = "600";
      msg.style.marginTop = "15px";

      form.appendChild(msg);

      // Fade out after 5 seconds
      setTimeout(() => msg.remove(), 5000);
    } else {
      alert("❌ Something went wrong. Please try again later.");
    }
  });
});
</script>

{% endblock %}
